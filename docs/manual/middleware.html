<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | pop-api</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="The base modules for popcorn-api"><meta property="og:type" content="website"><meta property="og:url" content="https://popcorntime.sh"><meta property="og:site_name" content="pop-api"><meta property="og:title" content="pop-api"><meta property="og:image" content="https://avatars2.githubusercontent.com/u/7267937"><meta property="og:description" content="The base modules for popcorn-api"><meta property="og:author" content="https://twitter.com/popcorntimetv"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="pop-api"><meta property="twitter:description" content="The base modules for popcorn-api"><meta property="twitter:image" content="https://avatars2.githubusercontent.com/u/7267937"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.png" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/popcorn-official/pop-api"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/usage.html"><a href="manual/usage.html" data-ice="link">Usage</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/middleware.html"><a href="manual/middleware.html" data-ice="link">Middleware</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/middleware.html"><a href="manual/middleware.html#cli" data-ice="link">Cli</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/middleware.html"><a href="manual/middleware.html#database" data-ice="link">Database</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/middleware.html"><a href="manual/middleware.html#httpserver" data-ice="link">HttpServer</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/middleware.html"><a href="manual/middleware.html#logger" data-ice="link">Logger</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/middleware.html"><a href="manual/middleware.html#routes" data-ice="link">Routes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/middleware.html"><a href="manual/middleware.html#custom-middleware" data-ice="link">Custom Middleware</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/advanced.html"><a href="manual/advanced.html" data-ice="link">Advanced Usage</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/advanced.html"><a href="manual/advanced.html#mongoose-models" data-ice="link">Mongoose Models</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/advanced.html"><a href="manual/advanced.html#contentservice" data-ice="link">ContentService</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/advanced.html"><a href="manual/advanced.html#controllers" data-ice="link">Controllers</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/advanced.html"><a href="manual/advanced.html#configuration" data-ice="link">Configuration</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/extending-middleware.html"><a href="manual/extending-middleware.html" data-ice="link">Extending Middleware</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/extending-middleware.html"><a href="manual/extending-middleware.html#cli" data-ice="link">Cli</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/extending-middleware.html"><a href="manual/extending-middleware.html#database" data-ice="link">Database</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/extending-middleware.html"><a href="manual/extending-middleware.html#logger" data-ice="link">Logger</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/extending-middleware.html"><a href="manual/extending-middleware.html#routes" data-ice="link">Routes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/extending-middleware.html"><a href="manual/extending-middleware.html#using-custom-middlewares" data-ice="link">Using Custom Middlewares</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#change-log" data-ice="link">Change Log</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-6-1---v0-6-2--0-6-2--a---2018-01-01-" data-ice="link">0.6.2 (2018-01-01)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-6-0---v0-6-1--0-6-1--a---2017-12-29-" data-ice="link">0.6.1 (2017-12-29)</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-5-1---v0-6-0--0-6-0--a---2017-12-27-" data-ice="link">0.6.0 (2017-12-27)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-5-0---v0-5-1--0-5-1--a---2017-12-27-" data-ice="link">0.5.1 (2017-12-27)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-4-1---v0-5-0--0-5-0--a---2017-12-26-" data-ice="link">0.5.0 (2017-12-26)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-4-0---v0-4-1--0-4-1--a---2017-12-19-" data-ice="link">0.4.1 (2017-12-19)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-3-1---v0-4-0--0-4-0--a---2017-12-19-" data-ice="link">0.4.0 (2017-12-19)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-3-0---v0-3-1--0-3-1--a---2017-12-10-" data-ice="link">0.3.1 (2017-12-10)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-2-1---v0-3-0--0-3-0--a---2017-12-10-" data-ice="link">0.3.0 (2017-12-10)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-2-0---v0-2-1--0-2-1--a---2017-12-09-" data-ice="link">0.2.1 (2017-12-09)</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#-a-href--https---github-com-popcorn-official-pop-api-compare-v0-1-0---v0-2-0--0-2-0--a---2017-12-05-" data-ice="link">0.2.0 (2017-12-05)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#0-1-0--2017-11-28-" data-ice="link">0.1.0 (2017-11-28)</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#features" data-ice="link">Features</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html" data-ice="link">Contributing</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#raising-issues" data-ice="link">Raising Issues</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#report-a-bug" data-ice="link">Report A Bug</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#feature-requests" data-ice="link">Feature Requests</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#pull-requests" data-ice="link">Pull Requests</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#commit-messages" data-ice="link">Commit Messages</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#styleguides" data-ice="link">Styleguides</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#javascript-styleguide" data-ice="link">JavaScript Styleguide</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#tests-styleguide" data-ice="link">Tests Styleguide</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#documentation-styleguide" data-ice="link">Documentation Styleguide</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#setting-up-for-development" data-ice="link">Setting up for development</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#npm-scripts" data-ice="link">npm scripts</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CONTRIBUTING.html"><a href="manual/CONTRIBUTING.html#git-hooks" data-ice="link">Git hooks</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/CODE_OF_CONDUCT.html"><a href="manual/CODE_OF_CONDUCT.html" data-ice="link">Contributor Covenant Code of Conduct</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CODE_OF_CONDUCT.html"><a href="manual/CODE_OF_CONDUCT.html#our-pledge" data-ice="link">Our Pledge</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CODE_OF_CONDUCT.html"><a href="manual/CODE_OF_CONDUCT.html#our-standards" data-ice="link">Our Standards</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CODE_OF_CONDUCT.html"><a href="manual/CODE_OF_CONDUCT.html#our-responsibilities" data-ice="link">Our Responsibilities</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CODE_OF_CONDUCT.html"><a href="manual/CODE_OF_CONDUCT.html#scope" data-ice="link">Scope</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CODE_OF_CONDUCT.html"><a href="manual/CODE_OF_CONDUCT.html#enforcement" data-ice="link">Enforcement</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CODE_OF_CONDUCT.html"><a href="manual/CODE_OF_CONDUCT.html#attribution" data-ice="link">Attribution</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="middleware">Middleware</h1><ul>
<li><a href="#cli">Cli</a></li>
<li><a href="#database">Database</a></li>
<li><a href="#httpserver">HttServer</a></li>
<li><a href="#logger">Logger</a></li>
<li><a href="#routes">Routes</a></li>
<li><a href="#custom-middleware">Custom Middleware</a></li>
</ul>
<h2 id="cli">Cli</h2><p>The <code>Cli</code> middleware uses <a href="https://github.com/tj/commander.js"><code>commander.js</code></a>
modules to parse the input of the user. The middleware itself doesn&apos;t bind
anything to the <code>PopApi</code> instance, instead it parses the input and run the API
accordingly.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { PopApi, Cli, Logger } from &apos;pop-api&apos;
import { name, version } from &apos;./package.json&apos;

const cliOpts = {
  name,               // The name of your application
  version,            // The version of your application
  argv: process.argv  // The arguments to parse
}
PopApi.use(Cli, cliOpts)

// Parsed the input given and binds options for the `Logger` middleware.
// See the documentation for the `Logger` middleware for more options.
const { pretty, quiet } = PopApi.loggerArgs
PopApi.use(Logger, {
  pretty,
  quiet
})</code>
</code></pre>
<h2 id="database">Database</h2><p>The <code>Database</code> middleware bind the <code>database</code> key to the <code>PopApi</code> instance.
This middleware allows you to <code>connect()</code> and <code>disconnect()</code> from MongoDB
through <a href="https://github.com/Automattic/mongoose"><code>mongoose</code></a>, and you can
export and import a collection with the
<code>exportCollection(collection, outputFile)</code> and
<code>importCollection(collection, jsonFile)</code> methods. The example below uses a
<code>.env</code> file to store the optional <code>username</code> and <code>password</code> values to establish
a connection with MongoDB.</p>
<pre><code class="lang-dosini"><code class="source-code prettyprint"># .env
# (Optional) Assuming you use the `dotenv` modules to get your username and
# password for the database connection
DATABASE_USERNAME=myUsername
DATABASE_PASSWORD=myPassword</code>
</code></pre>
<p>Now setup the <code>Database</code> middleware:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// (Optional) Assuming you use the `dotenv` modules to get your username and
// password for the database connection
import &apos;dotenv/config&apos;
import { PopApi, Database } from &apos;pop-api&apos;
import MyModel from &apos;./MyModel&apos;
import { name } from &apos;./package.json&apos;

const databaseOpts = {
  database: name,                           // The name of the database.
  hosts: [&apos;localhost&apos;],                     // A lst of hosts to connect to.
  dbPort: 27017,                            // (Optional) The port of MongoDB.
  username: process.env.DATABASE_USERNAME,  // (Optional) The username to
                                            // connect to the hosts.
  password: process.env.DATABASE_PASSWORD   // (Optional) The password to
                                            // connect to the hosts.
}
PopApi.use(Database, databaseOpts)

// The database middleware can now be used to connect to the MongoDB database.
PopApi.database.connect()
  .then(() =&gt; {
    // Connection successful!
    return new MyModel({
      _id: &apos;John&apos;,
      name: &apos;John&apos;,
      slug: &apos;john&apos;
    }).save()
  })
  .catch(err =&gt; {
    // Handle error
  })
  .then(() =&gt; {
    // Disconnect from MongoDB.
    PopApi.database.disconnect()
  })</code>
</code></pre>
<h2 id="httpserver">HttpServer</h2><p>The <code>HttpServer</code> middleware forks workers so heavy load process can run on
different child processes. It also makes the
 <a href="https://github.com/expressjs/express"><code>express</code></a> app listen on a port.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { PopApi, HttpServer } from &apos;pop-api&apos;

const httpServerOpts = {
  app: PopApi.app,   // The express instance from PopApi.
  serverPort: 5000,  // The port your API will be running on.
  workers: 2         // The amount of workers to fork.
}
PopApi.use(HttpServer, httpServerOpts)
// Doesn&apos;t bind anything to the PopApi instance, just forks the workers and
// makes the app listen on your configured port.</code>
</code></pre>
<h2 id="logger">Logger</h2><p>The <code>Logger</code> middleware uses the
<a href="https://github.com/winstonjs/winston"><code>winston</code></a> module to create a global
<code>logger</code> object. This <code>logger</code> object has various levels to log, such as
<code>debug</code>, <code>info</code>, <code>warn</code> and <code>error</code>. This middleware also binds an
<a href="https://github.com/expressjs/express"><code>express</code></a> middleware function to log
the routes.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { PopApi, Logger } from &apos;pop-api&apos;
import { join } from &apos;path&apos;
import { name } from &apos;./package.json&apos;

const loggerOpts = {
  name,                                 // The name of the log file.
  logDir: join(...[__dirname, &apos;tmp&apos;]),  // The directory to store the logs in.
  pretty: true,                         // (Optional) Pretty output mode.
  quiet: false                          // (Optional) Quiet mode for no output.
}
PopApi.use(Logger, loggerOpts)

logger.info(&apos;\logger\&apos; will be a global object&apos;)
// Other log levels you can use are:
//  - logger.debug()
//  - logger.info()
//  - logger.warn()
//  - logger.error()

// Log middleware for logging routes, used by the `Routes` middleware, or set
// it yourself.
const { httpLogger } = PopApi
PopApi.app.use(httpLogger)</code>
</code></pre>
<h2 id="routes">Routes</h2><p>The <code>Routes</code> middleware configures the
<a href="https://github.com/expressjs/express"><code>express</code></a> instance. It sets up the
<a href="https://github.com/expressjs/body-parser"><code>body-parser</code></a> and
<a href="https://github.com/exprssjs/compression"><code>compression</code></a> middleware, as well as
the error and security middleware. Thirdly it registers the controllers with
their routes.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { PopApi, Routes } from &apos;pop-api&apos;
import MyRouteController from &apos;./MyRouteController&apos;

const routesOpts = {
  app: PopApi.app,                  // The express instance from PopApi.
  controllers: [{                   // A list of controllers to register.
    Controller: MyRouteController,  // The controller you want to register.
    args: {}                        // The arguments to pass down to the
                                    // MyRouteController.
  }]
}
PopApi.use(Routes, routesOpts)
// Doesn&apos;t bind anything to the PopApi instance, just configures the middleware
// for express and registers the controllers.</code>
</code></pre>
<h2 id="custom-middleware">Custom Middleware</h2><p>The <code>init</code> method will register the default Cli, Database, Logger, Routes and
Server middleware, but you can also extends the functionality of <code>pop-api</code> by
using your own middleware. In the middleware example below we create a
middleware class which will only hold a simple greeting.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// ./MyMiddleware.js
export default class MyMiddleware {

  // The first parameter will be the &apos;PopApi&apos; instance, the second will be an
  // object you can use to configure your middleware.
  constructor(PopApi, {name}) {
    this.name = name

    PopApi.myMiddleware = this.myMiddleware()
  }

  myMiddleware() {
    return `Hello, ${this.name}`
  }

}</code>
</code></pre>
<p>To use the middleware we created you call the <code>use</code> method. The first parameter
will be the middleware class you want to create, the second parameter is
optional, but can be used to configure your middleware.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// ./index.js
import { PopApi } from &apos;pop-api&apos;
import MyMiddleware from &apos;./MyMiddleware&apos;

// Use the middleware you created.
PopApi.use(MyMiddleware, {
  name: &apos;John&apos;
})

// The middleware will be bound to the &apos;PopApi&apos; instance.
const greeting = PopApi.myMiddleware
console.log(greeting) // Hello, John</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
